<%- include("../../views/partials/admin/header") %>


<div class="card mb-5">
  <div class="card-header bg-light d-flex justify-content-between align-items-center">
    <h5 class="mb-0">ðŸ“˜ Ledger Book</h5>
    <small class="text-muted">As of <%= new Date().toLocaleDateString("en-IN") %></small>
  </div>

  <div class="card-body table-responsive">
    <% if (ledger.length === 0) { %>
      <p class="text-muted">No transactions available.</p>
    <% } else { %>
      <table class="table table-bordered text-center align-middle">
        <thead class="table-secondary">
          <tr>
            <th>Date</th>
            <th>Particulars</th>
            <th>Debit (â‚¹)</th>
            <th>Credit (â‚¹)</th>
            <th>Balance (â‚¹)</th>
          </tr>
        </thead>
        <tbody>
          <% [...ledger].reverse().forEach(row => { %>
            <tr>
              <td><%= new Date(row.date).toLocaleDateString("en-IN") %></td>
              <td><%= row.particulars %></td>
              <td><%= row.debit > 0 ? 'â‚¹' + row.debit.toFixed(2) : '-' %></td>
              <td><%= row.credit > 0 ? 'â‚¹' + row.credit.toFixed(2) : '-' %></td>
              <td><strong>â‚¹<%= row.balance.toFixed(2) %></strong></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    <% } %>
  </div>
</div>

<%- include("../../views/partials/admin/footer") %>